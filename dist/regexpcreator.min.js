/*!***************************************************
* advanced-mark.js v1.1.0
* Copyright (c) 2014–2023, Julian Kühnel
* Released under the MIT license https://git.io/vwTVl
* Modified by angezid
*****************************************************/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).RegExpCreator=t()}(this,(function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(i=n.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),n)}var i,a}function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.apply(this,arguments)}var r=function(){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.opt=t({},{diacritics:!0,synonyms:{},accuracy:"partially",caseSensitive:!1,ignoreJoiners:!1,ignorePunctuation:[],wildcards:"disabled"},e)}var n,i,a;return n=r,(i=[{key:"create",value:function(e,t){return"disabled"!==this.opt.wildcards&&(e=this.setupWildcardsRegExp(e)),e=this.escapeStr(e),Object.keys(this.opt.synonyms).length&&(e=this.createSynonymsRegExp(e)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),this.opt.diacritics&&(e=this.createDiacriticsRegExp(e)),e=this.createMergedBlanksRegExp(e),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.createJoinersRegExp(e)),"disabled"!==this.opt.wildcards&&(e=this.createWildcardsRegExp(e)),t?this.createAccuracyRegExp(e,!0):(e=this.createAccuracyRegExp(e,!1),new RegExp(e,"gm".concat(this.opt.caseSensitive?"":"i")))}},{key:"createCombinePattern",value:function(e,t){var r=this;if(!Array.isArray(e)||!e.length)return null;var n=t?"(":"(?:",i=this.create(e[0],!0),a=i.lookbehind,c=i.lookahead;return{lookbehind:a,pattern:e.map((function(e){return"".concat(n).concat(r.create(e,!0).pattern,")")})).join("|"),lookahead:c}}},{key:"sortByLength",value:function(e){return e.sort((function(e,t){return e.length===t.length?e>t?1:-1:t.length-e.length}))}},{key:"escapeStr",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createSynonymsRegExp",value:function(e){var t=this,r=this.opt.synonyms,n=this.opt.caseSensitive?"":"i";for(var i in r)if(r.hasOwnProperty(i)){var a=Array.isArray(r[i])?r[i]:[r[i]];if(a.unshift(i),(a=this.sortByLength(a).map((function(e){return"disabled"!==t.opt.wildcards&&(e=t.setupWildcardsRegExp(e)),e=t.escapeStr(e)})).filter((function(e){return""!==e}))).length>1){var c=a.map((function(e){return t.escapeStr(e)})).join("|");e=e.replace(new RegExp("(?:".concat(c,")"),"gm".concat(n)),"(?:".concat(a.join("|"),")"))}}return e}},{key:"setupWildcardsRegExp",value:function(e){return(e=e.replace(/(?:\\)*\?/g,(function(e){return"\\"===e.charAt(0)?"?":""}))).replace(/(?:\\)*\*/g,(function(e){return"\\"===e.charAt(0)?"*":""}))}},{key:"createWildcardsRegExp",value:function(e){var t="withSpaces"===this.opt.wildcards;return e.replace(/\u0001/g,t?"[\\S\\s]?":"\\S?").replace(/\u0002/g,t?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(e){return e.replace(/(\(\?:|\|)|\\?.(?=([|)]|$)|.)/g,(function(e,t,r){return t||void 0!==r?e:e+"\0"}))}},{key:"createJoinersRegExp",value:function(e){var t=[],r=this.opt.ignorePunctuation;return Array.isArray(r)&&r.length&&t.push(this.escapeStr(r.join(""))),this.opt.ignoreJoiners&&t.push("\\u00ad\\u200b\\u200c\\u200d"),t.length?e.split(/\u0000+/).join("[".concat(t.join(""),"]*")):e}},{key:"createDiacriticsRegExp",value:function(e){var t=this.opt.caseSensitive,r=["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"];return e.split("").map((function(e){for(var n=0;n<r.length;n+=2)if(t){if(-1!==r[n].indexOf(e))return"["+r[n]+"]";if(-1!==r[n+1].indexOf(e))return"["+r[n+1]+"]"}else if(-1!==r[n].indexOf(e)||-1!==r[n+1].indexOf(e))return"["+r[n]+r[n+1]+"]";return e})).join("")}},{key:"createMergedBlanksRegExp",value:function(e){return e.replace(/\s+/g,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(e,t){var r=this,n=this.opt.accuracy,i="string"==typeof n?n:n.value,a="string"==typeof n?[]:n.limiters,c="";a.forEach((function(e){c+="|".concat(r.escapeStr(e))}));var o,s="()",u="";switch(i){case"partially":default:o=e;break;case"complementary":c="\\s"+(c||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")),o="[^".concat(c,"]*").concat(e,"[^").concat(c,"]*");break;case"exactly":s="(^|\\s".concat(c,")"),o=e,u="(?=$|\\s".concat(c,")")}return t?{lookbehind:s,pattern:o,lookahead:u}:"".concat(s,"(").concat(o,")").concat(u)}}])&&e(n.prototype,i),a&&e(n,a),Object.defineProperty(n,"prototype",{writable:!1}),r}();return function(e){var t=new r(e);this.create=function(e,r){return t.create(e,r)},this.createCombinePattern=function(e,r){return t.createCombinePattern(e,r)},this.createDiacritics=function(e){return t.createDiacriticsRegExp(e)}}}));
