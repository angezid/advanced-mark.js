/*!***************************************************
* advanced-mark.js v2.1.2
* Copyright (c) 2014–2023, Julian Kühnel
* Released under the MIT license https://git.io/vwTVl
* Modified by angezid
*****************************************************/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).RegExpCreator=t()}(this,(function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),r)}var i,a}function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}var n=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.opt=t({},{diacritics:!0,synonyms:{},accuracy:"partially",caseSensitive:!1,ignoreJoiners:!1,ignorePunctuation:[],wildcards:"disabled"},e)}var r,i,a;return r=n,(i=[{key:"create",value:function(e,t){e=this.checkWildcardsEscape(e),Object.keys(this.opt.synonyms).length&&(e=this.createSynonyms(e));var n=this.getJoinersPunctuation();n&&(e=this.setupIgnoreJoiners(e)),this.opt.diacritics&&(e=this.createDiacritics(e)),e=e.replace(/\s+/g,"[\\s]+"),n&&(e=this.createJoiners(e,n)),"disabled"!==this.opt.wildcards&&(e=this.createWildcards(e));var r=this.createAccuracy(e);return t?r:new RegExp("".concat(r.lookbehind,"(").concat(r.pattern,")").concat(r.lookahead),"g".concat(this.opt.caseSensitive?"":"i"))}},{key:"createCombinePattern",value:function(e,t){var n=this;if(!Array.isArray(e)||!e.length)return null;var r=t?"(":"(?:",i=this.create(e[0],!0),a=i.lookbehind,c=i.lookahead;return{lookbehind:a,pattern:this.distinct(e.map((function(e){return"".concat(r).concat(n.create(e,!0).pattern,")")}))).join("|"),lookahead:c}}},{key:"sortByLength",value:function(e){return e.sort((function(e,t){return e.length===t.length?e>t?1:-1:t.length-e.length}))}},{key:"escape",value:function(e){return e.replace(/[[\]/{}()*+?.\\^$|]/g,"\\$&")}},{key:"escapeCharSet",value:function(e){return e.replace(/[-^\]\\]/g,"\\$&")}},{key:"toArrayIfString",value:function(e){return e&&e.length?this.distinct("string"==typeof e?e.split(""):e):[]}},{key:"distinct",value:function(e){var t=[];return e.forEach((function(e){e.trim()&&-1===t.indexOf(e)&&t.push(e)})),t}},{key:"createSynonyms",value:function(e){var t=this,n=this.opt.synonyms,r="g"+(this.opt.caseSensitive?"":"i");for(var i in n)if(n.hasOwnProperty(i)){var a=Array.isArray(n[i])?n[i]:[n[i]];if(a.unshift(i),(a=this.sortByLength(this.distinct(a)).map((function(e){return t.checkWildcardsEscape(e)}))).length>1){var c=a.map((function(e){return t.escape(e)})).join("|");e=e.replace(new RegExp(c,r),"(?:".concat(a.join("|"),")"))}}return e}},{key:"checkWildcardsEscape",value:function(e){return"disabled"!==this.opt.wildcards&&(e=e.replace(/(\\)*\?/g,(function(e,t){return t?"?":""})).replace(/(\\)*\*/g,(function(e,t){return t?"*":""}))),this.escape(e)}},{key:"createWildcards",value:function(e){var t="withSpaces"===this.opt.wildcards,n=this.opt.blockElementsBoundary,r=t&&n?"[^"+(n.char?n.char:"")+"]*?":"[\\S\\s]*?";return e.replace(/\u0001/g,t?"[\\S\\s]?":"\\S?").replace(/\u0002/g,t?r:"\\S*")}},{key:"setupIgnoreJoiners",value:function(e){return e.replace(/(\(\?:|\|)|\\?.(?=([|)]|$)|.)/g,(function(e,t,n){return t||void 0!==n?e:e+"\0"}))}},{key:"createJoiners",value:function(e,t){return e.split(/\u0000+/).join("[".concat(t,"]*"))}},{key:"getJoinersPunctuation",value:function(){var e=this.toArrayIfString(this.opt.ignorePunctuation),t="";return e.length&&(t=this.escapeCharSet(e.join(""))),this.opt.ignoreJoiners&&(t+="\\u00ad\\u200b\\u200c\\u200d"),t}},{key:"createDiacritics",value:function(e){var t=this.opt.caseSensitive,n=["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōő","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌŐ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůūű","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪŰ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"];return e.split("").map((function(e){for(var r=0;r<n.length;r+=2)if(t){if(-1!==n[r].indexOf(e))return"["+n[r]+"]";if(-1!==n[r+1].indexOf(e))return"["+n[r+1]+"]"}else if(-1!==n[r].indexOf(e)||-1!==n[r+1].indexOf(e))return"["+n[r]+n[r+1]+"]";return e})).join("")}},{key:"createAccuracy",value:function(e){var t,n=this,r=this.opt.accuracy,i="()",a=e,c="";if("string"!=typeof r&&(t=(t=this.toArrayIfString(r.limiters)).length?t:null,r=r.value),"complementary"===r){var o="\\s"+(t?this.escapeCharSet(t.join("")):"!\"#$%&'()*+,\\-./:;<=>?@[\\]\\\\^_`{|}~¡¿");a="[^".concat(o,"]*").concat(e,"[^").concat(o,"]*")}else if("exactly"===r){var s=t?"|"+t.map((function(e){return n.escape(e)})).join("|"):"";i="(^|\\s".concat(s,")"),c="(?=$|\\s".concat(s,")")}return{lookbehind:i,pattern:a,lookahead:c}}}])&&e(r.prototype,i),a&&e(r,a),Object.defineProperty(r,"prototype",{writable:!1}),n}();return function(e){var t=new n(e);this.create=function(e,n){return t.create(e,n)},this.createCombinePattern=function(e,n){return t.createCombinePattern(e,n)},this.createDiacritics=function(e){return t.createDiacritics(e)}}}));
